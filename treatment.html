<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ryan Salon - Treatment</title>

    <link rel="stylesheet" href="style2.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar">
    <div class="container">
        <div class="nav-brand">Ryan Salon</div>
        <ul class="nav-menu">
            <li><a href="index.html">Home</a></li>
            <li><a href="treatment.html" class="active">Treatment</a></li>
            <li><a href="product.html">Product</a></li>
            <li><a href="profile.html">Profil</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>
    </div>
</nav>

<!-- ================= HEADER ================= -->
<section class="page-header">
    <div class="container">
        <h1>Layanan Treatment Kami</h1>
        <p>Berbagai perawatan kecantikan untuk Anda</p>
    </div>
</section>

<!-- ================= TREATMENT ================= -->
<section class="treatment-section">
    <div class="container">
        <div class="treatment-grid" id="treatmentGrid">
            <p>Loading data...</p>
        </div>
    </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="footer">
    <div class="container">
        <p>üìç Jl. Ki Mansyur, Babatan, Kec. Kadugede, Kabupaten Kuningan</p>
        <a href="#" class="btn-whatsapp">üí¨ WhatsApp</a>
    </div>
</footer>

<!-- ================= JAVASCRIPT ================= -->
<script>
const apiURL = "https://script.google.com/macros/s/AKfycbxhMphxPsQRjtK37vRwZmI8nqkf7uiXDVwEewWmAMoQ8XTyHbQm1t6p1x8zochhimHfmA/exec";

fetch(apiURL)
  .then(response => response.json())
  .then(data => {
    const grid = document.getElementById("treatmentGrid");
    grid.innerHTML = "";

    data.forEach(item => {

      const hargaAngka = Number(
        String(item.harga || "0").replace(/[^0-9]/g, "")
      );

      grid.innerHTML += `
        <div class="treatment-card">
          <div class="treatment-photo-placeholder">
            <img 
              src="${item.gambar}" 
              alt="${item.nama}" 
              class="treatment-img"
              onerror="this.src='https://via.placeholder.com/300x200?text=No+Image'"
            >
          </div>

          <div class="treatment-info">
            <h3>${item.nama}</h3>
            <p>${item.deskripsi}</p>
            <strong>
              Rp ${hargaAngka.toLocaleString('id-ID')}
            </strong>
          </div>
        </div>
      `;
    });
  })
  .catch(error => {
    console.error("ERROR:", error);
    document.getElementById("treatmentGrid").innerHTML =
      "<p>Gagal memuat data treatment</p>";
  });
</script>
